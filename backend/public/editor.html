<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在线代码编辑器 (Ace Editor + iframe)</title>
    <style>
        /* --- 基本样式重置与布局 --- */
        * {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            overflow-x: auto;
        }

        /* --- 主容器：使用Flexbox创建左右布局 --- */
        .container {
            display: flex;
            height: 100%;
        }

  


        .editor-pane {
            background-color: #03030c;
            width: 100%;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            padding: 20px;
        }

        #editor {
            width: 100%;
            flex-grow: 1;
            font-size: 16px;
        }

        /* Ace Editor 的光标有时会因布局问题错位，以下样式可修复 */
        #editor .ace_gutter {
            z-index: 1;
        }

        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;

        }

        ::-webkit-scrollbar-thumb {
            background: #2e9ae392;

        }

        ::-webkit-scrollbar-thumb:hover {
            background: #0064a2ee;
        }

        .ace-monokai {
            background-color: #121211;
        }

        .ace-monokai .ace_gutter {
            background-color: #03030c;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="pane1 editor-pane">
            <div id="editor"></div>
        </div>

    </div>

    <!-- 引入 Ace Editor 核心库和扩展 -->
    <!-- 核心库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ace.js"></script>
    <!-- 语言工具扩展，用于自动补全 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ext-language_tools.js"></script>

    <script>
        // 1. 初始化 Ace Editor
        // -----------------------------------------------------------------
        const editor = ace.edit("editor");

        // 设置主题 (例如：monokai, chrome, github, solarized_dark)
        editor.setTheme("ace/theme/monokai");

        // 设置语言模式为 HTML (也支持 css, javascript)
        editor.session.setMode("ace/mode/html");

        // 设置编辑器选项
        editor.setOptions({
            fontSize: "14px",                 // 字体大小
            enableBasicAutocompletion: true,  // 启用基本自动补全
            enableLiveAutocompletion: true,   // 启用实时自动补全 (需要 ext-language_tools.js)
            enableSnippets: true,             // 启用代码片段
            showPrintMargin: false,           // 不显示打印边距线
            wrap: true,                       // 自动换行
        });


        // 2. 设置编辑器初始代码内容
        const savedCode = localStorage.getItem('editorcode');

        // 如果 localStorage 中有保存的代码，则使用它；否则使用一个默认的空字符串。
        const initialCode = savedCode || '';

        // 将初始代码设置到编辑器中，-1表示光标不移动到末尾
        editor.setValue(initialCode, -1);


        // 3. 实现预览功能
     
    </script>
</body>

</html>